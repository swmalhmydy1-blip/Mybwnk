<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ØµØ±ÙÙŠØ©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            transition: transform 0.3s ease;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .neumorphic {
            background: #f0f0f0;
            border-radius: 20px;
            box-shadow: 12px 12px 24px #d9d9d9, -12px -12px 24px #ffffff;
        }
        .scrollbar-thin::-webkit-scrollbar {
            width: 6px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <nav class="bg-gradient-to-l from-[#004a99] to-[#0066cc] text-white p-4 shadow-xl sticky top-0 z-50">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-4 space-x-reverse">
                <div class="bg-white p-2 rounded-lg">
                    <img src="https://img.icons8.com/color/48/000000/bank-building.png" alt="Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ" class="w-10 h-10">
                </div>
                <div>
                    <h1 class="text-2xl font-bold">Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h1>
                    <p class="text-sm opacity-80">Ø®Ø¯Ù…Ø§Øª Ù…ØµØ±ÙÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© ÙˆØ¢Ù…Ù†Ø©</p>
                </div>
            </div>
            
            <div class="flex items-center space-x-6 space-x-reverse">
                <div class="hidden md:block">
                    <span id="user-name" class="font-bold">Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ</span>
                    <div class="flex items-center space-x-2 space-x-reverse">
                        <span class="text-sm opacity-80">Ø¢Ø®Ø± Ø¯Ø®ÙˆÙ„: </span>
                        <span id="last-login" class="text-sm">Ø§Ù„ÙŠÙˆÙ… 10:30 ØµØ¨Ø§Ø­Ø§Ù‹</span>
                    </div>
                </div>
                <button onclick="toggleNotifications()" class="relative p-2">
                    <i class="fas fa-bell text-xl"></i>
                    <span id="notification-badge" class="absolute -top-1 -left-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">3</span>
                </button>
                <button onclick="toggleDarkMode()" class="p-2">
                    <i class="fas fa-moon text-xl"></i>
                </button>
                <button onclick="logout()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg flex items-center space-x-2 space-x-reverse">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø¬Ø§Ù†Ø¨ÙŠØ© -->
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row mt-6 p-4 gap-6">
        <div class="md:w-1/4 space-y-4">
            <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
            <div class="bg-gradient-to-br from-blue-900 to-blue-700 text-white p-6 rounded-2xl shadow-xl">
                <div class="flex justify-between items-start">
                    <div>
                        <p class="text-sm opacity-80">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ</p>
                        <h2 id="full-name" class="text-xl font-bold">Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ</h2>
                        <p id="user-acc" class="text-sm mt-2">Ø­Ø³Ø§Ø¨ ØªÙˆÙÙŠØ± â€¢ 12209938</p>
                    </div>
                    <i class="fas fa-user-circle text-4xl opacity-80"></i>
                </div>
                
                <div class="mt-6">
                    <p class="text-sm">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­</p>
                    <h3 id="balance" class="text-3xl font-bold mt-1">0.00 <span class="text-xl">Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ</span></h3>
                </div>
                
                <div class="grid grid-cols-2 gap-4 mt-6">
                    <div class="text-center">
                        <p class="text-sm opacity-80">Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ</p>
                        <p class="font-bold">750,000 <span class="text-xs">Ø±ÙŠØ§Ù„</span></p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm opacity-80">Ø§Ù„Ù…ØµØ±ÙˆÙ Ø§Ù„Ø´Ù‡Ø±ÙŠ</p>
                        <p class="font-bold">420,000 <span class="text-xs">Ø±ÙŠØ§Ù„</span></p>
                    </div>
                </div>
            </div>

            <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª -->
            <div class="bg-white rounded-2xl shadow-lg p-4">
                <h3 class="font-bold text-lg mb-4 border-b pb-2"><i class="fas fa-th-large ml-2"></i> Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©</h3>
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="showSection('bills')" class="p-3 bg-blue-50 hover:bg-blue-100 rounded-xl text-center">
                        <i class="fas fa-file-invoice-dollar text-blue-600 text-xl"></i>
                        <p class="text-sm mt-1">Ø¯ÙØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</p>
                    </button>
                    <button onclick="showSection('cards')" class="p-3 bg-green-50 hover:bg-green-100 rounded-xl text-center">
                        <i class="fas fa-credit-card text-green-600 text-xl"></i>
                        <p class="text-sm mt-1">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</p>
                    </button>
                    <button onclick="showSection('loans')" class="p-3 bg-purple-50 hover:bg-purple-100 rounded-xl text-center">
                        <i class="fas fa-hand-holding-usd text-purple-600 text-xl"></i>
                        <p class="text-sm mt-1">Ø§Ù„ØªÙ…ÙˆÙŠÙ„</p>
                    </button>
                    <button onclick="showSection('invest')" class="p-3 bg-yellow-50 hover:bg-yellow-100 rounded-xl text-center">
                        <i class="fas fa-chart-line text-yellow-600 text-xl"></i>
                        <p class="text-sm mt-1">Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</p>
                    </button>
                    <button onclick="showSection('insurance')" class="p-3 bg-red-50 hover:bg-red-100 rounded-xl text-center">
                        <i class="fas fa-shield-alt text-red-600 text-xl"></i>
                        <p class="text-sm mt-1">Ø§Ù„ØªØ£Ù…ÙŠÙ†</p>
                    </button>
                    <button onclick="showSection('support')" class="p-3 bg-gray-50 hover:bg-gray-100 rounded-xl text-center">
                        <i class="fas fa-headset text-gray-600 text-xl"></i>
                        <p class="text-sm mt-1">Ø§Ù„Ø¯Ø¹Ù…</p>
                    </button>
                </div>
            </div>

            <!-- Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø§Ø¯Ø®Ø§Ø± -->
            <div class="bg-white rounded-2xl shadow-lg p-4">
                <h3 class="font-bold text-lg mb-4 border-b pb-2"><i class="fas fa-bullseye ml-2"></i> Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø§Ø¯Ø®Ø§Ø±</h3>
                <div class="space-y-3">
                    <div>
                        <div class="flex justify-between text-sm">
                            <span>Ø­Ø¬ Ø¨ÙŠØª Ø§Ù„Ù„Ù‡</span>
                            <span>65%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-green-500 h-2 rounded-full" style="width: 65%"></div>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">5,200,000 / 8,000,000 Ø±ÙŠØ§Ù„</p>
                    </div>
                    <div>
                        <div class="flex justify-between text-sm">
                            <span>Ø´Ø±Ø§Ø¡ Ø³ÙŠØ§Ø±Ø©</span>
                            <span>30%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-blue-500 h-2 rounded-full" style="width: 30%"></div>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">1,500,000 / 5,000,000 Ø±ÙŠØ§Ù„</p>
                    </div>
                    <button onclick="showSection('savings')" class="w-full mt-3 py-2 bg-blue-50 text-blue-600 rounded-lg text-sm font-bold hover:bg-blue-100">
                        <i class="fas fa-plus ml-1"></i> Ø¥Ø¶Ø§ÙØ© Ù‡Ø¯Ù Ø¬Ø¯ÙŠØ¯
                    </button>
                </div>
            </div>
        </div>

        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <div class="md:w-3/4">
            <!-- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
            <div id="notifications-panel" class="hidden mb-6 bg-white rounded-2xl shadow-lg p-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-lg"><i class="fas fa-bell ml-2"></i> Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h3>
                    <button onclick="clearNotifications()" class="text-sm text-blue-600">ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù‚Ø±ÙˆØ¡</button>
                </div>
                <div id="notifications-list" class="space-y-3">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
            </div>

            <!-- Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© -->
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                <h3 class="font-bold text-lg mb-4"><i class="fas fa-chart-bar ml-2"></i> Ù†Ø´Ø§Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø´Ù‡Ø±ÙŠ</h3>
                <div class="h-64">
                    <canvas id="accountChart"></canvas>
                </div>
            </div>

            <!-- Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø®Ø¯Ù…Ø§Øª -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <!-- Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ ÙˆØ§Ù„Ø³Ø­Ø¨ -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-green-500 card-hover">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2"><i class="fas fa-cash-register ml-2"></i> Ø¥ÙŠØ¯Ø§Ø¹ / Ø³Ø­Ø¨ Ù†Ù‚Ø¯ÙŠ</h3>
                    <div class="space-y-4">
                        <div class="flex space-x-2 space-x-reverse">
                            <button onclick="quickAmount(50000)" class="flex-1 bg-blue-50 text-blue-700 py-2 rounded-lg hover:bg-blue-100">50,000</button>
                            <button onclick="quickAmount(100000)" class="flex-1 bg-blue-50 text-blue-700 py-2 rounded-lg hover:bg-blue-100">100,000</button>
                            <button onclick="quickAmount(200000)" class="flex-1 bg-blue-50 text-blue-700 py-2 rounded-lg hover:bg-blue-100">200,000</button>
                        </div>
                        <input type="number" id="cash-amount" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº" class="w-full p-3 border-2 border-gray-200 rounded-xl outline-none focus:border-blue-500 text-lg">
                        <div class="grid grid-cols-2 gap-3">
                            <button onclick="handleCash('deposit')" class="bg-gradient-to-r from-green-500 to-green-600 text-white py-3 rounded-xl font-bold hover:from-green-600 hover:to-green-700 transition flex items-center justify-center">
                                <i class="fas fa-arrow-down ml-2"></i> Ø¥ÙŠØ¯Ø§Ø¹
                            </button>
                            <button onclick="handleCash('withdraw')" class="bg-gradient-to-r from-red-500 to-red-600 text-white py-3 rounded-xl font-bold hover:from-red-600 hover:to-red-700 transition flex items-center justify-center">
                                <i class="fas fa-arrow-up ml-2"></i> Ø³Ø­Ø¨
                            </button>
                        </div>
                        <p class="text-xs text-gray-500 text-center">Ø§Ù„Ø­Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù„Ø³Ø­Ø¨: 1,000,000 Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ</p>
                    </div>
                </div>

                <!-- Ø­ÙˆØ§Ù„Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-blue-800 card-hover">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2"><i class="fas fa-paper-plane ml-2"></i> Ø¥Ø±Ø³Ø§Ù„ Ø­ÙˆØ§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
                    <div class="space-y-3">
                        <div class="grid grid-cols-2 gap-3">
                            <select id="remit-type" class="p-2 border rounded-lg">
                                <option value="internal">Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ù†Ùƒ</option>
                                <option value="external">Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¨Ù†Ùƒ</option>
                                <option value="international">Ø¯ÙˆÙ„ÙŠØ©</option>
                            </select>
                            <select id="remit-speed" class="p-2 border rounded-lg">
                                <option value="normal">Ø¹Ø§Ø¯ÙŠØ© (1-2 ÙŠÙˆÙ…)</option>
                                <option value="express">Ù…Ø³ØªØ¹Ø¬Ù„Ø© (Ø³Ø§Ø¹Ø§Øª)</option>
                            </select>
                        </div>
                        <input type="text" id="remit-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ„Ù… Ø§Ù„ÙƒØ§Ù…Ù„" class="w-full p-3 border rounded-lg">
                        <input type="text" id="remit-phone" placeholder="Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø³ØªÙ„Ù…" class="w-full p-3 border rounded-lg">
                        <input type="number" id="remit-amount" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº" class="w-full p-3 border rounded-lg">
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <input type="checkbox" id="save-beneficiary" class="rounded">
                            <label for="save-beneficiary" class="text-sm">Ø­ÙØ¸ Ø§Ù„Ù…Ø³ØªÙ„Ù… ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†</label>
                        </div>
                        <button onclick="sendRemittance()" class="w-full bg-gradient-to-r from-blue-800 to-blue-900 text-white py-3 rounded-xl font-bold hover:from-blue-900 hover:to-blue-950 transition">
                            <i class="fas fa-paper-plane ml-2"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
                        </button>
                    </div>
                </div>

                <!-- Ø§Ø³ØªÙ„Ø§Ù… Ø­ÙˆØ§Ù„Ø© -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-yellow-500 card-hover">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2"><i class="fas fa-key ml-2"></i> Ø§Ø³ØªÙ„Ø§Ù… Ø­ÙˆØ§Ù„Ø© ÙˆØ§Ø±Ø¯Ø©</h3>
                    <p class="text-sm text-gray-500 mb-4">Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø­ÙˆØ§Ù„Ø© Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 8 Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ</p>
                    <div class="space-y-3">
                        <input type="text" id="ref-number" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø­ÙˆØ§Ù„Ø© #REF" class="w-full p-3 border-2 border-gray-200 rounded-lg">
                        <input type="password" id="ref-pin" placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ (4 Ø£Ø±Ù‚Ø§Ù…)" class="w-full p-3 border-2 border-gray-200 rounded-lg" maxlength="4">
                        <button onclick="receiveRemittance()" class="w-full bg-gradient-to-r from-yellow-500 to-yellow-600 text-blue-900 py-3 rounded-xl font-bold hover:from-yellow-600 hover:to-yellow-700 transition">
                            <i class="fas fa-unlock ml-2"></i> ØµØ±Ù Ø§Ù„Ø­ÙˆØ§Ù„Ø©
                        </button>
                    </div>
                    <div class="mt-4 p-3 bg-blue-50 rounded-lg">
                        <p class="text-sm font-bold text-blue-800"><i class="fas fa-info-circle ml-2"></i> Ù…Ø¹Ù„ÙˆÙ…Ø©:</p>
                        <p class="text-xs text-blue-700 mt-1">Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©: 1% Ù„Ù„Ø­ÙˆØ§Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©ØŒ 2% Ù„Ù„Ù…Ø³ØªØ¹Ø¬Ù„Ø©</p>
                    </div>
                </div>

                <!-- Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªÙ…ÙˆÙŠÙ„ -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-purple-500 card-hover">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2"><i class="fas fa-calculator ml-2"></i> Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªÙ…ÙˆÙŠÙ„</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm mb-1">Ù…Ø¨Ù„Øº Ø§Ù„ØªÙ…ÙˆÙŠÙ„</label>
                            <input type="range" id="loan-amount" min="100000" max="10000000" step="100000" value="5000000" class="w-full">
                            <div class="flex justify-between text-xs">
                                <span>100,000</span>
                                <span id="loan-amount-display" class="font-bold">5,000,000</span>
                                <span>10,000,000</span>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm mb-1">Ø§Ù„Ù…Ø¯Ø© (Ø´Ù‡Ø±)</label>
                            <input type="range" id="loan-period" min="6" max="60" step="6" value="24" class="w-full">
                            <div class="flex justify-between text-xs">
                                <span>6</span>
                                <span id="loan-period-display" class="font-bold">24</span>
                                <span>60</span>
                            </div>
                        </div>
                        <div class="p-3 bg-purple-50 rounded-lg">
                            <p class="text-sm font-bold text-purple-800">Ø§Ù„Ù‚Ø³Ø· Ø§Ù„Ø´Ù‡Ø±ÙŠ:</p>
                            <p id="monthly-payment" class="text-2xl font-bold text-purple-900">0 Ø±ÙŠØ§Ù„</p>
                            <p class="text-xs text-purple-700 mt-1">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº: <span id="total-loan">0</span> Ø±ÙŠØ§Ù„</p>
                        </div>
                        <button onclick="applyForLoan()" class="w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white py-3 rounded-xl font-bold hover:from-purple-600 hover:to-purple-700 transition">
                            <i class="fas fa-file-signature ml-2"></i> ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ ØªÙ…ÙˆÙŠÙ„
                        </button>
                    </div>
                </div>
            </div>

            <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 rounded-xl">
                    <p class="text-sm">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª</p>
                    <p class="text-2xl font-bold" id="total-deposits">0 Ø±ÙŠØ§Ù„</p>
                </div>
                <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-xl">
                    <p class="text-sm">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­ÙˆØ§Ù„Ø§Øª</p>
                    <p class="text-2xl font-bold" id="total-transfers">0 Ø±ÙŠØ§Ù„</p>
                </div>
                <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 rounded-xl">
                    <p class="text-sm">Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø³Ø¯Ø¯Ø©</p>
                    <p class="text-2xl font-bold" id="total-bills">0 Ø±ÙŠØ§Ù„</p>
                </div>
                <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 text-white p-4 rounded-xl">
                    <p class="text-sm">Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ù…ØªØ§Ø­</p>
                    <p class="text-2xl font-bold" id="available-credit">50,000 Ø±ÙŠØ§Ù„</p>
                </div>
            </div>

            <!-- Ø¢Ø®Ø± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ù…Ø¹ Ø§Ù„ØªØµÙÙŠØ© -->
            <div class="bg-white rounded-2xl shadow-lg p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-lg"><i class="fas fa-history ml-2"></i> Ø¢Ø®Ø± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</h3>
                    <div class="flex space-x-2 space-x-reverse">
                        <select id="filter-type" onchange="filterTransactions()" class="p-2 border rounded-lg text-sm">
                            <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</option>
                            <option value="deposit">Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª</option>
                            <option value="withdraw">Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª</option>
                            <option value="transfer">Ø§Ù„Ø­ÙˆØ§Ù„Ø§Øª</option>
                            <option value="bill">Ø§Ù„ÙÙˆØ§ØªÙŠØ±</option>
                        </select>
                        <input type="date" id="filter-date" onchange="filterTransactions()" class="p-2 border rounded-lg text-sm">
                    </div>
                </div>
                <div id="logs" class="space-y-3 max-h-96 overflow-y-auto scrollbar-thin p-2">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
                <div class="mt-4 text-center">
                    <button onclick="loadMoreTransactions()" class="text-blue-600 hover:text-blue-800 font-bold">
                        <i class="fas fa-chevron-down ml-2"></i> ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© -->
    <div id="chat-window" class="hidden fixed bottom-4 left-4 w-80 bg-white rounded-2xl shadow-2xl z-50">
        <div class="bg-gradient-to-r from-blue-800 to-blue-900 text-white p-4 rounded-t-2xl flex justify-between items-center">
            <div class="flex items-center">
                <i class="fas fa-robot text-xl ml-2"></i>
                <div>
                    <p class="font-bold">Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ</p>
                    <p class="text-xs opacity-80">Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†</p>
                </div>
            </div>
            <button onclick="toggleChat()" class="text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="chat-messages" class="h-64 overflow-y-auto p-4 space-y-3 scrollbar-thin">
            <div class="bg-blue-50 p-3 rounded-lg max-w-[80%]">
                <p class="text-sm">Ù…Ø±Ø­Ø¨Ø§Ù‹! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ</p>
                <p class="text-xs text-gray-500 mt-1">Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ â€¢ Ø§Ù„Ø¢Ù†</p>
            </div>
        </div>
        <div class="p-4 border-t">
            <div class="flex">
                <input type="text" id="chat-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..." class="flex-1 p-2 border rounded-lg outline-none">
                <button onclick="sendChatMessage()" class="bg-blue-600 text-white p-2 rounded-lg mr-2">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Ø²Ø± ÙØªØ­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© -->
    <button onclick="toggleChat()" class="fixed bottom-4 left-4 bg-blue-600 text-white p-4 rounded-full shadow-2xl z-40 hover:bg-blue-700">
        <i class="fas fa-comments text-xl"></i>
    </button>

    <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰ -->
    <button onclick="scrollToTop()" id="back-to-top" class="hidden fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-full shadow-2xl z-40 hover:bg-gray-900">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Ù†Ø§ÙØ°Ø© ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© -->
    <div id="confirm-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full mx-4">
            <h3 class="font-bold text-lg mb-4 border-b pb-2" id="confirm-title">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</h3>
            <p id="confirm-message" class="mb-6">Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¬Ø±Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©ØŸ</p>
            <div class="grid grid-cols-2 gap-3">
                <button onclick="confirmTransaction(true)" class="bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700">Ù†Ø¹Ù…ØŒ ØªØ£ÙƒÙŠØ¯</button>
                <button onclick="confirmTransaction(false)" class="bg-red-600 text-white py-3 rounded-xl font-bold hover:bg-red-700">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„ØªØ°ÙŠÙŠÙ„ -->
    <footer class="bg-gradient-to-l from-gray-800 to-gray-900 text-white mt-12 py-8">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h4 class="font-bold text-xl mb-4">Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h4>
                    <p class="text-gray-300 text-sm">Ù†Ø¸Ø§Ù… Ù…ØµØ±ÙÙŠ Ù…ØªÙƒØ§Ù…Ù„ ÙŠÙ‚Ø¯Ù… Ø­Ù„ÙˆÙ„Ø§Ù‹ Ù…Ø§Ù„ÙŠØ© Ù…ØªØ·ÙˆØ±Ø© ÙˆØ¢Ù…Ù†Ø© Ù„Ø¹Ù…Ù„Ø§Ø¦Ù†Ø§ Ø§Ù„ÙƒØ±Ø§Ù….</p>
                </div>
                <div>
                    <h5 class="font-bold mb-4">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h5>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#" class="hover:text-white">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a></li>
                        <li><a href="#" class="hover:text-white">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</a></li>
                        <li><a href="#" class="hover:text-white">Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ø®Ø¯Ù…Ø©</a></li>
                        <li><a href="#" class="hover:text-white">Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-bold mb-4">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h5>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><i class="fas fa-phone ml-2"></i> 800-123-4567</li>
                        <li><i class="fas fa-envelope ml-2"></i> support@alqutabi.com</li>
                        <li><i class="fas fa-map-marker-alt ml-2"></i> ØµÙ†Ø¹Ø§Ø¡ØŒ Ø§Ù„ÙŠÙ…Ù†</li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-bold mb-4">Ø­Ù…Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h5>
                    <div class="space-y-3">
                        <button class="w-full bg-gray-700 hover:bg-gray-600 py-2 rounded-lg flex items-center justify-center">
                            <i class="fab fa-google-play ml-2"></i>
                            <span>Google Play</span>
                        </button>
                        <button class="w-full bg-gray-700 hover:bg-gray-600 py-2 rounded-lg flex items-center justify-center">
                            <i class="fab fa-app-store ml-2"></i>
                            <span>App Store</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-sm text-gray-400">
                <p>Â© 2023 Ø¨Ù†Ùƒ Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©. | <a href="#" class="hover:text-white">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></p>
            </div>
        </div>
    </footer>

    <script>
        // 1. ØªÙ‡ÙŠØ¦Ø© Supabase
        const supabaseUrl = 'https://YOUR_PROJECT.supabase.co'
        const supabaseKey = 'YOUR_ANON_KEY'
        const _supabase = supabase.createClient(supabaseUrl, supabaseKey)

        // 2. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        let user = {
            id: 'USER_ID_HERE',
            fullName: 'Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ',
            acc: '12209938',
            balance: 1250000,
            type: 'ØªÙˆÙÙŠØ±',
            lastLogin: 'Ø§Ù„ÙŠÙˆÙ… 10:30 ØµØ¨Ø§Ø­Ø§Ù‹',
            monthlyIncome: 750000,
            monthlyExpense: 420000
        }

        // 3. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let transactions = []
        let beneficiaries = []
        let notifications = [
            { id: 1, text: 'ØªÙ… Ø¥ÙŠØ¯Ø§Ø¹ Ø±Ø§ØªØ¨Ùƒ Ø§Ù„Ø¨Ø§Ù„Øº 750,000 Ø±ÙŠØ§Ù„', time: 'Ù‚Ø¨Ù„ Ø³Ø§Ø¹Ø©', read: false },
            { id: 2, text: 'ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„ØªÙ…ÙˆÙŠÙ„', time: 'Ù‚Ø¨Ù„ ÙŠÙˆÙ…ÙŠÙ†', read: false },
            { id: 3, text: 'Ø®ØµÙ… 10% Ø¹Ù„Ù‰ Ø±Ø³ÙˆÙ… Ø§Ù„Ø­ÙˆØ§Ù„Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±', time: 'Ù‚Ø¨Ù„ 3 Ø£ÙŠØ§Ù…', read: true }
        ]

        // 4. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
        let accountChart = null
        function initChart() {
            const ctx = document.getElementById('accountChart').getContext('2d')
            accountChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ'],
                    datasets: [{
                        label: 'Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª',
                        data: [500000, 600000, 450000, 750000, 650000, 800000],
                        borderColor: '#10B981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª',
                        data: [350000, 400000, 300000, 550000, 450000, 600000],
                        borderColor: '#EF4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            rtl: true
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString() + ' Ø±ÙŠØ§Ù„'
                                }
                            }
                        }
                    }
                }
            })
        }

        // 5. ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function updateUI() {
            document.getElementById('balance').innerText = user.balance.toLocaleString() + ' Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ'
            document.getElementById('user-name').innerText = user.fullName
            document.getElementById('full-name').innerText = user.fullName
            document.getElementById('user-acc').innerText = `${user.type} â€¢ ${user.acc}`
            document.getElementById('last-login').innerText = user.lastLogin
            document.getElementById('total-deposits').innerText = '2,750,000 Ø±ÙŠØ§Ù„'
            document.getElementById('total-transfers').innerText = '1,850,000 Ø±ÙŠØ§Ù„'
            document.getElementById('total-bills').innerText = '420,000 Ø±ÙŠØ§Ù„'
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø§Ø±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
            const unread = notifications.filter(n => !n.read).length
            const badge = document.getElementById('notification-badge')
            if(unread > 0) {
                badge.innerText = unread
                badge.classList.remove('hidden')
            } else {
                badge.classList.add('hidden')
            }
        }

        // 6. Ù…ÙŠØ²Ø© Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ ÙˆØ§Ù„Ø³Ø­Ø¨ Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        let pendingTransaction = null
        async function handleCash(type) {
            const amount = parseFloat(document.getElementById('cash-amount').value)
            if(!amount || amount <= 0) {
                showAlert('Ø£Ø¯Ø®Ù„ Ù…Ø¨Ù„ØºØ§Ù‹ ØµØ­ÙŠØ­Ø§Ù‹', 'error')
                return
            }

            if(type === 'withdraw') {
                if(amount > user.balance) {
                    showAlert('Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ', 'error')
                    return
                }
                if(amount > 1000000) {
                    showAlert('ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù„Ø³Ø­Ø¨ (1,000,000 Ø±ÙŠØ§Ù„)', 'error')
                    return
                }
            }

            pendingTransaction = { type, amount }
            showConfirmModal(
                type === 'deposit' ? 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹' : 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø³Ø­Ø¨',
                `Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ${type === 'deposit' ? 'Ø¥ÙŠØ¯Ø§Ø¹' : 'Ø³Ø­Ø¨'} Ù…Ø¨Ù„Øº ${amount.toLocaleString()} Ø±ÙŠØ§Ù„ØŸ`
            )
        }

        // 7. Ù…ÙŠØ²Ø© Ø§Ù„Ø­ÙˆØ§Ù„Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        async function sendRemittance() {
            const name = document.getElementById('remit-name').value
            const phone = document.getElementById('remit-phone').value
            const amount = parseFloat(document.getElementById('remit-amount').value)
            const type = document.getElementById('remit-type').value
            const speed = document.getElementById('remit-speed').value
            const save = document.getElementById('save-beneficiary').checked

            if(!name || !phone || !amount) {
                showAlert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error')
                return
            }

            if(amount > user.balance) {
                showAlert('Ø§Ù„Ø±ØµÙŠØ¯ Ù„Ø§ ÙŠØ³Ù…Ø­', 'error')
                return
            }

            const ref = "QT-" + Math.floor(10000000 + Math.random() * 90000000)
            const fee = speed === 'express' ? amount * 0.02 : amount * 0.01
            const total = amount + fee

            if(total > user.balance) {
                showAlert(`Ø§Ù„Ø±ØµÙŠØ¯ Ù„Ø§ ÙŠÙƒÙÙŠ (Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø¹Ù…ÙˆÙ„Ø© ${fee.toLocaleString()} Ø±ÙŠØ§Ù„)`, 'error')
                return
            }

            user.balance -= total
            updateUI()
            
            const logMsg = `Ø­ÙˆØ§Ù„Ø© ${type === 'international' ? 'Ø¯ÙˆÙ„ÙŠØ©' : type === 'external' ? 'Ø®Ø§Ø±Ø¬ÙŠØ©' : 'Ø¯Ø§Ø®Ù„ÙŠØ©'} Ù„Ù€ ${name}: ${amount.toLocaleString()} Ø±ÙŠØ§Ù„`
            addLog(logMsg, 'transfer')
            
            if(save) {
                beneficiaries.push({ name, phone, type: 'Ø­ÙˆØ§Ù„Ø©' })
                showAlert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø³ØªÙ„Ù… ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†', 'success')
            }

            showAlert(`ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­! Ø±Ù‚Ù… Ø§Ù„Ø­ÙˆØ§Ù„Ø©: ${ref}\nØ§Ù„Ø¹Ù…ÙˆÙ„Ø©: ${fee.toLocaleString()} Ø±ÙŠØ§Ù„`, 'success')
            
            // Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø±
            addNotification(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø­ÙˆØ§Ù„Ø© Ø¨Ù…Ø¨Ù„Øº ${amount.toLocaleString()} Ø±ÙŠØ§Ù„`)
        }

        // 8. Ù…ÙŠØ²Ø© Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø­ÙˆØ§Ù„Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        async function receiveRemittance() {
            const ref = document.getElementById('ref-number').value
            const pin = document.getElementById('ref-pin').value

            if(!ref || !pin) {
                showAlert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ø­ÙˆØ§Ù„Ø© ÙˆØ§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ', 'error')
                return
            }

            if(pin.length !== 4 || !/^\d+$/.test(pin)) {
                showAlert('Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 4 Ø£Ø±Ù‚Ø§Ù…', 'error')
                return
            }

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ø³ØªÙ„Ø§Ù… Ø­ÙˆØ§Ù„Ø© Ø¨Ù…Ø¨Ù„Øº Ø¹Ø´ÙˆØ§Ø¦ÙŠ
            const amount = Math.floor(10000 + Math.random() * 500000)
            user.balance += amount
            updateUI()
            addLog(`Ø§Ø³ØªÙ„Ø§Ù… Ø­ÙˆØ§Ù„Ø© Ø±Ù‚Ù… ${ref} Ø¨Ù…Ø¨Ù„Øº ${amount.toLocaleString()} Ø±ÙŠØ§Ù„`, 'deposit')
            showAlert(`ØªÙ… ØµØ±Ù Ø§Ù„Ø­ÙˆØ§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ù…Ø¨Ù„Øº: ${amount.toLocaleString()} Ø±ÙŠØ§Ù„`, 'success')
        }

        // 9. Ù…ÙŠØ²Ø© Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªÙ…ÙˆÙŠÙ„
        function updateLoanCalculator() {
            const amount = parseInt(document.getElementById('loan-amount').value)
            const period = parseInt(document.getElementById('loan-period').value)
            
            document.getElementById('loan-amount-display').textContent = amount.toLocaleString()
            document.getElementById('loan-period-display').textContent = period
            
            const interestRate = 0.05 // 5% Ø³Ù†ÙˆÙŠØ§Ù‹
            const monthlyRate = interestRate / 12
            const monthlyPayment = (amount * monthlyRate * Math.pow(1 + monthlyRate, period)) / 
                                  (Math.pow(1 + monthlyRate, period) - 1)
            const totalPayment = monthlyPayment * period
            
            document.getElementById('monthly-payment').textContent = Math.round(monthlyPayment).toLocaleString() + ' Ø±ÙŠØ§Ù„'
            document.getElementById('total-loan').textContent = Math.round(totalPayment).toLocaleString()
        }

        function applyForLoan() {
            const amount = parseInt(document.getElementById('loan-amount').value)
            showConfirmModal(
                'Ø·Ù„Ø¨ ØªÙ…ÙˆÙŠÙ„',
                `Ù‡Ù„ ØªØ±ÙŠØ¯ ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ ØªÙ…ÙˆÙŠÙ„ Ø¨Ù…Ø¨Ù„Øº ${amount.toLocaleString()} Ø±ÙŠØ§Ù„ Ù„Ù…Ø¯Ø© ${document.getElementById('loan-period').value} Ø´Ù‡Ø±Ø§Ù‹ØŸ`
            )
        }

        // 10. Ù…ÙŠØ²Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function toggleNotifications() {
            const panel = document.getElementById('notifications-panel')
            panel.classList.toggle('hidden')
            if(!panel.classList.contains('hidden')) {
                updateNotifications()
            }
        }

        function updateNotifications() {
            const container = document.getElementById('notifications-list')
            container.innerHTML = ''
            
            notifications.forEach(notif => {
                const div = document.createElement('div')
                div.className = `p-3 rounded-lg ${notif.read ? 'bg-gray-50' : 'bg-blue-50 border-r-4 border-blue-500'}`
                div.innerHTML = `
                    <p class="text-sm ${notif.read ? '' : 'font-bold'}">${notif.text}</p>
                    <p class="text-xs text-gray-500 mt-1">${notif.time}</p>
                `
                container.appendChild(div)
            })
        }

        function clearNotifications() {
            notifications.forEach(n => n.read = true)
            updateNotifications()
            updateUI()
            showAlert('ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙƒÙ…Ù‚Ø±ÙˆØ¡Ø©', 'success')
        }

        function addNotification(text) {
            notifications.unshift({
                id: notifications.length + 1,
                text,
                time: 'Ø§Ù„Ø¢Ù†',
                read: false
            })
            updateUI()
        }

        // 11. Ù…ÙŠØ²Ø© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø¢Ù„ÙŠØ©
        let chatVisible = false
        function toggleChat() {
            const chatWindow = document.getElementById('chat-window')
            chatWindow.classList.toggle('hidden')
            chatVisible = !chatVisible
        }

        function sendChatMessage() {
            const input = document.getElementById('chat-input')
            const message = input.value.trim()
            if(!message) return
            
            const messagesContainer = document.getElementById('chat-messages')
            
            // Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const userMsg = document.createElement('div')
            userMsg.className = 'bg-gray-100 p-3 rounded-lg max-w-[80%] mr-auto'
            userMsg.innerHTML = `
                <p class="text-sm">${message}</p>
                <p class="text-xs text-gray-500 mt-1">Ø£Ù†Øª â€¢ Ø§Ù„Ø¢Ù†</p>
            `
            messagesContainer.appendChild(userMsg)
            
            input.value = ''
            
            // Ø±Ø¯ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ (Ù…Ø­Ø§ÙƒØ§Ø©)
            setTimeout(() => {
                const responses = [
                    'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø³Ø§Ù„ØªÙƒØŒ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ØŸ',
                    'Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø¹Ø±ÙØ© Ø±ØµÙŠØ¯Ùƒ Ø£Ùˆ Ø¥Ø¬Ø±Ø§Ø¡ Ù…Ø¹Ø§Ù…Ù„Ø©ØŸ',
                    'ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø¯ÙØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø£Ùˆ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø­ÙˆØ§Ù„Ø§Øª',
                    'Ù‡Ù„ ØªÙˆØ§Ø¬Ù‡ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ',
                    'ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø·Ù„Ø¨Ùƒ ÙˆØ³ÙŠØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©'
                ]
                const randomResponse = responses[Math.floor(Math.random() * responses.length)]
                
                const botMsg = document.createElement('div')
                botMsg.className = 'bg-blue-50 p-3 rounded-lg max-w-[80%]'
                botMsg.innerHTML = `
                    <p class="text-sm">${randomResponse}</p>
                    <p class="text-xs text-gray-500 mt-1">Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ â€¢ Ø§Ù„Ø¢Ù†</p>
                `
                messagesContainer.appendChild(botMsg)
                messagesContainer.scrollTop = messagesContainer.scrollHeight
            }, 1000)
        }

        // 12. Ù…ÙŠØ²Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
        let darkMode = false
        function toggleDarkMode() {
            darkMode = !darkMode
            if(darkMode) {
                document.body.classList.add('bg-gray-900', 'text-white')
                document.body.classList.remove('bg-gradient-to-br', 'from-gray-50', 'to-gray-100')
                document.querySelectorAll('.bg-white').forEach(el => {
                    el.classList.add('bg-gray-800', 'text-white')
                    el.classList.remove('bg-white')
                })
            } else {
                document.body.classList.remove('bg-gray-900', 'text-white')
                document.body.classList.add('bg-gradient-to-br', 'from-gray-50', 'to-gray-100')
                document.querySelectorAll('.bg-gray-800').forEach(el => {
                    el.classList.remove('bg-gray-800', 'text-white')
                    el.classList.add('bg-white')
                })
            }
        }

        // 13. Ù…ÙŠØ²Ø© Ø§Ù„ØªØµÙÙŠØ© ÙˆØ§Ù„Ø¨Ø­Ø«
        function filterTransactions() {
            const type = document.getElementById('filter-type').value
            const date = document.getElementById('filter-date').value
            
            let filtered = transactions
            if(type !== 'all') {
                filtered = filtered.filter(t => t.type === type)
            }
            if(date) {
                filtered = filtered.filter(t => t.date === date)
            }
            
            displayTransactions(filtered)
        }

        function loadMoreTransactions() {
            // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
            for(let i = 0; i < 5; i++) {
                const types = ['deposit', 'withdraw', 'transfer', 'bill']
                const randomType = types[Math.floor(Math.random() * types.length)]
                addLog(`Ø¹Ù…Ù„ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© #${i+1}`, randomType)
            }
            showAlert('ØªÙ… ØªØ­Ù…ÙŠÙ„ 5 Ø¹Ù…Ù„ÙŠØ§Øª Ø¥Ø¶Ø§ÙÙŠØ©', 'success')
        }

        // 14. Ù…ÙŠØ²Ø© Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰
        window.onscroll = function() {
            const button = document.getElementById('back-to-top')
            if(document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                button.classList.remove('hidden')
            } else {
                button.classList.add('hidden')
            }
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' })
        }

        // 15. Ù…ÙŠØ²Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            showConfirmModal('ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬', 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')
        }

        // 16. Ù…ÙŠØ²Ø© Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
        function quickAmount(amount) {
            document.getElementById('cash-amount').value = amount
        }

        // 17. Ù…ÙŠØ²Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
        function showSection(section) {
            showAlert(`Ø³ÙŠØªÙ… ÙØªØ­ Ù‚Ø³Ù… ${section} Ù‚Ø±ÙŠØ¨Ø§Ù‹`, 'info')
        }

        // 18. Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
        function showAlert(message, type = 'info') {
            // Ù…Ø­Ø§ÙƒØ§Ø© ØªÙ†Ø¨ÙŠÙ‡
            alert(message)
        }

        function showConfirmModal(title, message) {
            document.getElementById('confirm-title').textContent = title
            document.getElementById('confirm-message').textContent = message
            document.getElementById('confirm-modal').classList.remove('hidden')
        }

        function confirmTransaction(confirmed) {
            document.getElementById('confirm-modal').classList.add('hidden')
            
            if(confirmed && pendingTransaction) {
                const { type, amount } = pendingTransaction
                if(type === 'deposit') {
                    user.balance += amount
                } else {
                    user.balance -= amount
                }
                updateUI()
                addLog(`${type === 'deposit' ? 'Ø¥ÙŠØ¯Ø§Ø¹' : 'Ø³Ø­Ø¨'}: ${amount.toLocaleString()} Ø±ÙŠØ§Ù„`, type)
                showAlert(`ØªÙ… ${type === 'deposit' ? 'Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹' : 'Ø§Ù„Ø³Ø­Ø¨'} Ø¨Ù†Ø¬Ø§Ø­`, 'success')
                pendingTransaction = null
            }
        }

        function addLog(message, type = 'info') {
            const logBox = document.getElementById('logs')
            const now = new Date().toLocaleTimeString('ar-EG')
            const date = new Date().toLocaleDateString('ar-EG')
            
            const typeIcons = {
                deposit: 'â¬‡ï¸',
                withdraw: 'â¬†ï¸',
                transfer: 'â†ªï¸',
                bill: 'ğŸ§¾',
                info: 'â„¹ï¸'
            }
            
            const typeColors = {
                deposit: 'text-green-600',
                withdraw: 'text-red-600',
                transfer: 'text-blue-600',
                bill: 'text-purple-600',
                info: 'text-gray-600'
            }
            
            const logEntry = document.createElement('div')
            logEntry.className = 'p-3 border-b border-gray-100 last:border-0'
            logEntry.innerHTML = `
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <span class="ml-2">${typeIcons[type] || 'â„¹ï¸'}</span>
                        <span class="${typeColors[type]} font-bold">${message}</span>
                    </div>
                    <div class="text-xs text-gray-500">
                        <span>${date}</span>
                        <span class="mr-2">${now}</span>
                    </div>
                </div>
            `
            
            logBox.insertBefore(logEntry, logBox.firstChild)
            transactions.unshift({ message, type, date: new Date().toISOString().split('T')[0] })
        }

        // 19. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ
            document.getElementById('filter-date').valueAsDate = new Date()
            
            // Ø¥Ø¶Ø§ÙØ© Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            addLog('Ø¥ÙŠØ¯Ø§Ø¹ Ø±Ø§ØªØ¨: 750,000 Ø±ÙŠØ§Ù„', 'deposit')
            addLog('ÙØ§ØªÙˆØ±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¡: 35,000 Ø±ÙŠØ§Ù„', 'bill')
            addLog('Ø­ÙˆØ§Ù„Ø© Ù„Ø£Ø®ÙŠ: 200,000 Ø±ÙŠØ§Ù„', 'transfer')
            addLog('Ø³Ø­Ø¨ Ù†Ù‚Ø¯ÙŠ: 150,000 Ø±ÙŠØ§Ù„', 'withdraw')
            addLog('Ø´Ø±Ø§Ø¡ Ù…Ù† Ø§Ù„Ø³ÙˆÙ‚: 85,000 Ø±ÙŠØ§Ù„', 'withdraw')
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            updateUI()
            initChart()
            updateLoanCalculator()
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠÙ† Ù„Ù„Ø£Ø­Ø¯Ø§Ø«
            document.getElementById('loan-amount').addEventListener('input', updateLoanCalculator)
            document.getElementById('loan-period').addEventListener('input', updateLoanCalculator)
            document.getElementById('chat-input').addEventListener('keypress', function(e) {
                if(e.key === 'Enter') sendChatMessage()
            })
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
            setTimeout(() => {
                showAlert('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø·ÙŠØ¨ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„!', 'success')
            }, 1000)
        })

        // 20. Ù…ÙŠØ²Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© ÙˆØ§Ù„Ø¥Ø¨Ù„Ø§Øº
        function printStatement() {
            window.print()
        }

        // Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        document.addEventListener('keydown', function(e) {
            // Ctrl + D Ù„Ù„Ø¥ÙŠØ¯Ø§Ø¹
            if(e.ctrlKey && e.key === 'd') {
                e.preventDefault()
                document.getElementById('cash-amount').focus()
            }
            // Ctrl + W Ù„Ù„Ø³Ø­Ø¨
            if(e.ctrlKey && e.key === 'w') {
                e.preventDefault()
                document.getElementById('cash-amount').focus()
                setTimeout(() => handleCash('withdraw'), 100)
            }
            // Ctrl + N Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
            if(e.ctrlKey && e.key === 'n') {
                e.preventDefault()
                toggleNotifications()
            }
            // Esc Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ°
            if(e.key === 'Escape') {
                document.getElementById('confirm-modal').classList.add('hidden')
                document.getElementById('notifications-panel').classList.add('hidden')
                document.getElementById('chat-window').classList.add('hidden')
            }
        })

    </script>
</body>
                    </html>
